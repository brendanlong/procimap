<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ProcImap.MailboxFactory.MailboxFactory</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="ProcImap-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://code.google.com/p/procimap/">ProcImap&nbsp;v.1.1</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="ProcImap-module.html">Package&nbsp;ProcImap</a> ::
        <a href="ProcImap.MailboxFactory-module.html">Module&nbsp;MailboxFactory</a> ::
        Class&nbsp;MailboxFactory
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/ProcImap.MailboxFactory.MailboxFactory-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="ProcImap.MailboxFactory.MailboxFactory-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class MailboxFactory</h2>

<hr/>

<pre class="literalblock">
MailboxFactory is a factory class for Mailbox objects. You can define
mailboxes of different types in an INI-style config file (the file
has to parsable by ConfigParser.ConfigParser; the exceptions defined
in ConfigParser may be thrown if the config file is not well-formed.)
Each section in the config file describes one mailbox.

An example of a valid config file 'mailboxes.cfg' is the following:

    [Standard]
    type = IMAP
    mailbox = INBOX
    server = mail.physik.fu-berlin.de
    username = goerz
    password = secret
    ssl = True
    port = 933

    [Sent]
    type = IMAP
    mailbox = Sent
    server = mail.physik.fu-berlin.de
    username = goerz
    password = secret

    [Backup]
    type = mbox
    path = /home/goerz/Mail/backup.mbox

The type of the mailbox is described by the 'type' parameters. The
types known by default are 'imap', 'mbox', 'maildir', 'MH', 'Babyl',
and 'MMDF', all of which have corresponding subclasses of
mailbox.Mailbox (all except ImapMailbox are defined in the standard
library). The type specification is not case sensitive.

The remaining parameters in a specific section depend on the type. The
Mailbox classes from the standard library need only a path; IMAP needs
type, mailbox, server, username, and password. The ssl and port
parameters are optional. ssl is enabled by default; the port, if
unspecified, is the standard port (933 for ssl, 433 otherwise).

MailboxFactory has capabilities to extend the set of known types by
using the set_type method.

The MailboxFactory partly supports a read-only dictionary interface.
</pre>
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>configfilename</span>)</span></code>
<br />
Initialize MailboxFactory files.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#__contains__" class="summary-sig-name"><code>__contains__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Return True if there is a mailbox with the given name, False 
otherwise</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#__getitem__" class="summary-sig-name"><code>__getitem__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Shorthand for the get method.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#data" class="summary-sig-name"><code>data</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
List all the data associated with the mailbox name</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#get" class="summary-sig-name"><code>get</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Create the Mailbox object that is described in section 'name'
in the config file.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#get_server" class="summary-sig-name"><code>get_server</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Return an ImapServer instance from the server data that is described 
in section 'name'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#list" class="summary-sig-name"><code>list</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
List all mailboxes defined in the config file</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="ProcImap.MailboxFactory.MailboxFactory-class.html#set_type" class="summary-sig-name"><code>set_type</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>typename</span>,
          <span class=summary-sig-arg>factory</span>,
          <span class=summary-sig-arg>pathgenerator</span>)</span></code>
<br />
Make a new typename of Mailbox known.</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>configfilename</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
  Initialize MailboxFactory files. The mailbox objects that can be 
  generated must be described in configfilename.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="__contains__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__contains__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
    <br /><i>(In operator)</i>
  </h3>
  Return True if there is a mailbox with the given name, False 
  otherwise
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="__getitem__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__getitem__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
    <br /><i>(Indexing operator)</i>
  </h3>
  Shorthand for the get method. For example,
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>mailboxes = MailboxFactory(<span class="py-string">&quot;mailboxes.cfg&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>mb = mailboxes[<span class="py-string">'Standard'</span>]</span></pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="data"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">data</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
  </h3>
  List all the data associated with the mailbox name
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="get"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
  </h3>
<pre class="literalblock">
Create the Mailbox object that is described in section 'name'
in the config file. For example,
    &gt;&gt;&gt; mailboxes = MailboxFactory(&quot;mailboxes.cfg&quot;)
    &gt;&gt;&gt; mb = mailboxes.get('Standard')
mb would now be an object of type ImapMailbox if mailboxes.cfg
contained the data as the example in the class docstring.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="get_server"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get_server</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
  </h3>
  <p>Return an ImapServer instance from the server data that is described 
  in section 'name'. The section must have the form of an imap mailbox 
  (as described above). A TypeError will be raised if the section is not 
  of type IMAP. The 'mailbox' key is ignored.</p>
  For example, you could create an ImapServer like this:
<pre class="doctestblock">
<span class="py-src"><span class="py-prompt">&gt;&gt;&gt; </span>mailboxes = MailboxFactory(<span class="py-string">&quot;mailboxes.cfg&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>server = mailboxes.get_server(<span class="py-string">'StandardServer'</span>)</span></pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="list"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">list</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  List all mailboxes defined in the config file
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="set_type"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">set_type</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>typename</span>,
          <span class=sig-arg>factory</span>,
          <span class=sig-arg>pathgenerator</span>)</span>
  </h3>
  <p>Make a new typename of Mailbox known. This allows you to handle new 
  types of Mailbox objects beyond IMAP and the mailboxes of the standard 
  library.</p>
  <p>factory is the class that generates the Mailbox object and must be a 
  subclass of mailbox.Mailbox</p>
  <p>pathgenerator is a callable that receives a dict of options set in a 
  section of the config file, and returns the 'path' that is passed as 
  the first argument to the factory. For the standard mailboxes of the 
  standard library, the 'path' is just a string, the path of the mailbox 
  in the filesystem. For IMAP, the path is a tuple (server, name). For 
  new types, this may be anything.</p>
  <p>For example the constructor of this class makes the 'mbox' type 
  known as: self.set_type('mbox', mailbox.mbox, 
  standard_pathgenerator)</p>
  In combination, 
  factory(pathgenerator(dict_of_options_in_configfile_section)) should 
  create a Mailbox object of the appropriate type.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="ProcImap-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://code.google.com/p/procimap/">ProcImap&nbsp;v.1.1</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Fri Sep  5 02:56:09 2008</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>

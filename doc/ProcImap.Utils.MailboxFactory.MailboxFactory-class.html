<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ProcImap.Utils.MailboxFactory.MailboxFactory</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ProcImap-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/procimap/">ProcImap v.2.0</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ProcImap-module.html">Package&nbsp;ProcImap</a> ::
        <a href="ProcImap.Utils-module.html">Package&nbsp;Utils</a> ::
        <a href="ProcImap.Utils.MailboxFactory-module.html">Module&nbsp;MailboxFactory</a> ::
        Class&nbsp;MailboxFactory
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class MailboxFactory</h1><p class="nomargin-top"><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory">source&nbsp;code</a></span></p>
<pre class="literalblock">
MailboxFactory is a factory class for Mailbox objects. You can define
mailboxes of different types in an INI-style config file (the file
has to parsable by ConfigParser.ConfigParser; the exceptions defined
in ConfigParser may be thrown if the config file is not well-formed.)
Each section in the config file describes one mailbox.

An example of a valid config file 'mailboxes.cfg' is the following:

    [Standard]
    type = IMAP
    mailbox = INBOX
    server = mail.physik.fu-berlin.de
    username = goerz
    password = secret
    ssl = True
    port = 933

    [Sent]
    type = IMAP
    mailbox = Sent
    server = mail.physik.fu-berlin.de
    username = goerz
    password = secret

    [Backup]
    type = mbox
    path = /home/goerz/Mail/backup.mbox

The type of the mailbox is described by the 'type' parameters. The
types known by default are 'imap', 'mbox', 'maildir', 'MH', 'Babyl',
and 'MMDF', all of which have corresponding subclasses of
mailbox.Mailbox (all except ImapMailbox are defined in the standard
library). The type specification is not case sensitive.

The remaining parameters in a specific section depend on the type. The
Mailbox classes from the standard library need only a path; IMAP needs
type, mailbox, server, username, and password. The ssl and port
parameters are optional. ssl is enabled by default; the port, if
unspecified, is the standard port (933 for ssl, 433 otherwise).

MailboxFactory has capabilities to extend the set of known types by
using the set_type method.

The MailboxFactory partly supports a read-only dictionary interface.

</pre>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">configfilename</span>)</span><br />
      Initialize MailboxFactory files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html#get" class="summary-sig-name">get</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Create the Mailbox object that is described in section 'name'
in the config file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.get">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html#__getitem__" class="summary-sig-name">__getitem__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Shorthand for the get method.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.__getitem__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html#get_server" class="summary-sig-name">get_server</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Return an ImapServer instance from the server data that is described 
      in section 'name'.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.get_server">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__contains__"></a><span class="summary-sig-name">__contains__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Return True if there is a mailbox with the given name, False 
      otherwise</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.__contains__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="list"></a><span class="summary-sig-name">list</span>(<span class="summary-sig-arg">self</span>)</span><br />
      List all mailboxes defined in the config file</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.list">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="data"></a><span class="summary-sig-name">data</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      List all the data associated with the mailbox name</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ProcImap.Utils.MailboxFactory.MailboxFactory-class.html#set_type" class="summary-sig-name">set_type</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">typename</span>,
        <span class="summary-sig-arg">factory</span>,
        <span class="summary-sig-arg">pathgenerator</span>)</span><br />
      Make a new typename of Mailbox known.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.set_type">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">configfilename</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Initialize MailboxFactory files. The mailbox objects that can be 
  generated must be described in configfilename.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.get">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Create the Mailbox object that is described in section 'name'
in the config file. For example,
    &gt;&gt;&gt; mailboxes = MailboxFactory(&quot;mailboxes.cfg&quot;)
    &gt;&gt;&gt; mb = mailboxes.get('Standard')
mb would now be an object of type ImapMailbox if mailboxes.cfg
contained the data as the example in the class docstring.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="__getitem__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__getitem__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">name</span>)</span>
    <br /><em class="fname">(Indexing operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.__getitem__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shorthand for the get method. For example,</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>mailboxes = MailboxFactory(<span class="py-string">&quot;mailboxes.cfg&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>mb = mailboxes[<span class="py-string">'Standard'</span>]</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_server"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_server</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.get_server">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return an ImapServer instance from the server data that is described 
  in section 'name'. The section must have the form of an imap mailbox (as 
  described above). A TypeError will be raised if the section is not of 
  type IMAP. The 'mailbox' key is ignored.</p>
  <p>For example, you could create an ImapServer like this:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>mailboxes = MailboxFactory(<span class="py-string">&quot;mailboxes.cfg&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>server = mailboxes.get_server(<span class="py-string">'StandardServer'</span>)</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="set_type"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">set_type</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">typename</span>,
        <span class="sig-arg">factory</span>,
        <span class="sig-arg">pathgenerator</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ProcImap.Utils.MailboxFactory-pysrc.html#MailboxFactory.set_type">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Make a new typename of Mailbox known. This allows you to handle new 
  types of Mailbox objects beyond IMAP and the mailboxes of the standard 
  library.</p>
  <p>factory is the class that generates the Mailbox object and must be a 
  subclass of mailbox.Mailbox</p>
  <p>pathgenerator is a callable that receives a dict of options set in a 
  section of the config file, and returns the 'path' that is passed as the 
  first argument to the factory. For the standard mailboxes of the standard
  library, the 'path' is just a string, the path of the mailbox in the 
  filesystem. For IMAP, the path is a tuple (server, name). For new types, 
  this may be anything.</p>
  <p>For example the constructor of this class makes the 'mbox' type known 
  as: self.set_type('mbox', mailbox.mbox, standard_pathgenerator)</p>
  <p>In combination, 
  factory(pathgenerator(dict_of_options_in_configfile_section)) should 
  create a Mailbox object of the appropriate type.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ProcImap-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/procimap/">ProcImap v.2.0</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sun Nov 16 05:08:53 2008
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
